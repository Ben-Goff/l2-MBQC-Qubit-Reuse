cmake_minimum_required(VERSION 3.10)
set(CMAKE_CXX_STANDARD 17)

project(ogdf-user-example CXX C)

set(OGDF_CONFIG_SEARCH_PATH PATH ${PROJECT_SOURCE_DIR}/ogdf-master/)

find_package(OGDF CONFIG PATHS ${OGDF_CONFIG_SEARCH_PATH})
if(NOT OGDF_FOUND)
  message(FATAL_ERROR "No OGDF configuration for CMake has been found. "
    "Please set OGDF_CONFIG_SEARCH_PATH such that ogdf-config.cmake (generated by your OGDF build) can be found.")
endif()

add_executable(qubit_reuse ${PROJECT_SOURCE_DIR}/src/main.cxx)
target_include_directories(qubit_reuse PRIVATE ${OGDF_INCLUDE_DIRS})
target_link_libraries(qubit_reuse OGDF)

# project(qubit_reuse)

# add_subdirectory(${PROJECT_SOURCE_DIR}/ogdf-master)

add_library(circuit ${PROJECT_SOURCE_DIR}/src/qcircuit.cxx)
target_include_directories(circuit PUBLIC ${PROJECT_SOURCE_DIR}/src)

add_library(gate ${PROJECT_SOURCE_DIR}/src-shared/gate.cxx)
target_include_directories(gate PUBLIC ${PROJECT_SOURCE_DIR}/src-shared)

add_library(constants ${PROJECT_SOURCE_DIR}/src-shared/gate.cxx)
target_include_directories(constants PUBLIC ${PROJECT_SOURCE_DIR}/src-shared)

add_library(circuit_graph ${PROJECT_SOURCE_DIR}/src-shared/circuit_graph.cxx)
target_include_directories(circuit_graph PUBLIC ${PROJECT_SOURCE_DIR}/src-shared)
target_include_directories(circuit_graph PRIVATE ${OGDF_INCLUDE_DIRS})
target_link_libraries(circuit_graph OGDF)

add_library(chp ${PROJECT_SOURCE_DIR}/src/chp.c)
target_include_directories(chp PUBLIC ${PROJECT_SOURCE_DIR}/src-shared)
target_include_directories(chp PUBLIC ${PROJECT_SOURCE_DIR}/include)

add_library(chp_simulation ${PROJECT_SOURCE_DIR}/src-shared/chp_simulation.cxx)
target_include_directories(chp_simulation PUBLIC ${PROJECT_SOURCE_DIR}/src-shared)
target_include_directories(chp_simulation PUBLIC ${PROJECT_SOURCE_DIR}/include-shared)

# add_library(circuit_graph ${PROJECT_SOURCE_DIR}/src-shared/circuit_graph.cxx)
# target_include_directories(gate PUBLIC ${PROJECT_SOURCE_DIR}/src-shared)
# target_include_directories(circuit_graph PRIVATE ${OGDF_INCLUDE_DIRS})
# target_link_libraries(circuit_graph OGDF)


# add_library(include ${PROJECT_SOURCE_DIR}/ogdf-master/include/)
# add_library(src ${PROJECT_SOURCE_DIR}/ogdf-master/src/)
# target_include_directories(include PUBLIC ${PROJECT_SOURCE_DIR}/ogdf-master/include)
# target_include_directories(src PUBLIC ${PROJECT_SOURCE_DIR}/ogdf-master/src)

# add_executable(${PROJECT_NAME} ${PROJECT_SOURCE_DIR}/src/main.cxx)
target_link_libraries(qubit_reuse circuit)
target_link_libraries(qubit_reuse gate)
target_link_libraries(qubit_reuse chp_simulation)
target_link_libraries(qubit_reuse chp)
target_link_libraries(qubit_reuse circuit_graph)
target_link_libraries(constants circuit_graph)

# target_link_libraries(${PROJECT_NAME} include)
# target_link_libraries(${PROJECT_NAME} src)
